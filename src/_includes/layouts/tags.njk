{% extends "layouts/base.njk" %}

{% block content %}
    <div id="search" class="search"></div>

    <h2>Tags: {{ collections.categories | length }}</h2>
    <h3>By count:</h3>
    <ul>
        {% for tag in collections.categories %}
            <span>
               <a href="#{{ tag.title | slugify }}">#{{ tag.title }} ({{ tag.count }})</a>
            </span>
        {% endfor %}
    </ul>

    <h3>By name:</h3>
    <ul>
        {% for tag in collections.categoriesByName %}
            <span>
               <a href="#{{ tag.title | slugify }}">#{{ tag.title }} ({{ tag.count }})</a>
            </span>
        {% endfor %}
    </ul>

    <p>This list shows posts from the last 5 years. For older posts, see the <a href="/archives/">archives</a> or use the search above.</p>

    <ul>
        {% for tag in collections.categories %}
            <a id="{{ tag.title | slugify }}"></a>
            <h3>{{ tag.title }}</h3>
            {% for post in collections.recentPosts %}
                {% if post.data.categories.includes(tag.title) %}
                    <li>
                        {{ post.data.date | shortDate }} <a href="{{ post.url }}">{{ post.data.title }}</a>
                    </li>
                {% endif %}
            {% endfor %}
            <a href="#top">Back to top</a>
        {% endfor %}
    </ul>
{% endblock %}
