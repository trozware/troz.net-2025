{% extends "layouts/base.njk" %}

{% block content %}
    <h2>Tags: {{ collections.categories | length }}</h2>
    <ul>
        {% for tag in collections.categories %}
            <span>
               <a href="#{{ tag.title | slugify }}">#{{ tag.title }} ({{ tag.count }})</a>
            </span>
        {% endfor %}
    </ul>

    <ul>
        {% for tag in collections.categories %}
            <a id="{{ tag.title | slugify }}"></a>
            <h3>{{ tag.title }}</h3>
            {% for post in collections.posts %}
                {% if post.data.categories.includes(tag.title) %}
                    <li>
                        {{ post.data.date | shortDate }} <a href="{{ post.url }}">{{ post.data.title }}</a>
                    </li>
                {% endif %}
            {% endfor %}
            <a href="#top">Back to top</a>
        {% endfor %}
    </ul>
{% endblock %}
